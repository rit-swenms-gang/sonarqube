<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DefaultIndexSettings.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">sonarqube</a> &gt; <a href="index.source.html" class="el_package">org.sonar.server.es.newindex</a> &gt; <span class="el_source">DefaultIndexSettings.java</span></div><h1>DefaultIndexSettings.java</h1><pre class="source lang-java linenums">/*
 * SonarQube
 * Copyright (C) 2009-2025 SonarSource SA
 * mailto:info AT sonarsource DOT com
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 3 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */
package org.sonar.server.es.newindex;

import java.util.Arrays;
import org.elasticsearch.action.support.WriteRequest.RefreshPolicy;
import org.elasticsearch.cluster.metadata.IndexMetadata;
import org.elasticsearch.common.settings.Settings;

public class DefaultIndexSettings {

  /** Minimum length of ngrams. */
  public static final int MINIMUM_NGRAM_LENGTH = 2;
  /** Maximum length of ngrams. */
  public static final int MAXIMUM_NGRAM_LENGTH = 15;

  /** Pattern, that splits the user search input **/
  public static final String SEARCH_TERM_TOKENIZER_PATTERN = &quot;[\\s]+&quot;;

  public static final String ANALYSIS = &quot;index.analysis&quot;;
  public static final String DELIMITER = &quot;.&quot;;

  public static final String TOKENIZER = &quot;tokenizer&quot;;
  public static final String FILTER = &quot;filter&quot;;
  public static final String CHAR_FILTER = &quot;char_filter&quot;;
  public static final String ANALYZER = &quot;analyzer&quot;;
  public static final String SEARCH_ANALYZER = &quot;search_analyzer&quot;;

  public static final String TYPE = &quot;type&quot;;
  public static final String INDEX = &quot;index&quot;;
  public static final String INDEX_SEARCHABLE = &quot;true&quot;;
  public static final String INDEX_NOT_SEARCHABLE = &quot;false&quot;;
  public static final String FIELD_TYPE_TEXT = &quot;text&quot;;
  public static final String FIELD_TYPE_KEYWORD = &quot;keyword&quot;;
  public static final String NORMS = &quot;norms&quot;;
  public static final String STORE = &quot;store&quot;;
  public static final String FIELD_FIELDDATA = &quot;fielddata&quot;;
  public static final String FIELDDATA_ENABLED = &quot;true&quot;;
  public static final String FIELD_TERM_VECTOR = &quot;term_vector&quot;;
  public static final String STANDARD = &quot;standard&quot;;
  public static final String PATTERN = &quot;pattern&quot;;
  public static final String CUSTOM = &quot;custom&quot;;
  public static final String KEYWORD = &quot;keyword&quot;;
  public static final String CLASSIC = &quot;classic&quot;;
<span class="fc" id="L62">  public static final RefreshPolicy REFRESH_IMMEDIATE = RefreshPolicy.IMMEDIATE;</span>
<span class="fc" id="L63">  public static final RefreshPolicy REFRESH_NONE = RefreshPolicy.NONE;</span>

  public static final String TRUNCATE = &quot;truncate&quot;;

  public static final String SUB_FIELD_DELIMITER = &quot;.&quot;;
  public static final String TRIM = &quot;trim&quot;;
  public static final String LOWERCASE = &quot;lowercase&quot;;
  public static final String WHITESPACE = &quot;whitespace&quot;;
  public static final String STOP = &quot;stop&quot;;
  public static final String ASCIIFOLDING = &quot;asciifolding&quot;;
  public static final String PORTER_STEM = &quot;porter_stem&quot;;
  public static final String MIN_GRAM = &quot;min_gram&quot;;
  public static final String MAX_GRAM = &quot;max_gram&quot;;
  public static final String LENGTH = &quot;length&quot;;
  public static final String HTML_STRIP = &quot;html_strip&quot;;

  private DefaultIndexSettings() {
    // only static stuff
  }

  public static Settings.Builder defaults() {
<span class="fc" id="L84">    Settings.Builder builder = Settings.builder()</span>
<span class="fc" id="L85">      .put(IndexMetadata.SETTING_NUMBER_OF_SHARDS, 1)</span>
<span class="fc" id="L86">      .put(&quot;index.refresh_interval&quot;, &quot;30s&quot;);</span>

<span class="fc" id="L88">    Arrays.stream(DefaultIndexSettingsElement.values())</span>
<span class="fc" id="L89">      .map(DefaultIndexSettingsElement::settings)</span>
<span class="fc" id="L90">      .forEach(builder::put);</span>

<span class="fc" id="L92">    return builder;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>