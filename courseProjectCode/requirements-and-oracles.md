# Requirements and Test Oracles

## Functional Requirements

The system shall analyze reports and continuously monitor code coverage as a test quality metric.

The system shall analyze cyclomatic complexity of individual software components and enforce an opinionated limit.

The system shall detect injection vulnerabilities in application source code.

The system shall alert the user of injection vulnerabilities in their application source code and recommend remediation options.

## Non-Functional Requirements

The system shall provide analysis support for multiple programming languages.

The system shall support installation as a plug-in for multiple IDEs.

The system shall accept coverage reports from multiple popular test frameworks. (i.e., JaCoco, CodeCov, etc.)

The system shall analyze complexity in less than 2 minutes.

## Test Oracles

| Requirement ID | Requirement Description | Test Oracle (Expected Behavior) |
|-----------------------|-----------------------------------|---------------------------------------------|
| FR-1 | The system shall analyze reports and continuously monitor code coverage as a test quality metric. | When a test coverage report is added or updated, a new report state is generated and tracked within the repository's quality state. |
| FR-2 | The system shall analyze cyclomatic complexity of individual software components and enforce an opinionated limit. | When a function produces a [complexity score greater than 50][complexity], a `ComplexityWarning` is generated. |
| FR-3 | The system shall detect injection vulnerabilities in application source code. | When a source file includes a SQL query with user-supplied input that is not sanitized, an `InjectionVulnerabilityWarning` is generated. |
| FR-4 | The system shall alert the user of injection vulnerabilities in their application source code and recommend remediation options. | When an `InjectionVulnerabilityWarning` is generated, an `AnalysisReportWarning` is sent to the user detailing the offending file and lines, as well as a suggestion message to "Add input sanitization or parameterize variables". |
| NFR-1 | The system shall provide analysis support for multiple programming languages.| When equivalent erroneous code is submitted in Java and C++, the scanner will detect the issues in both files and will provide responses appropriate to each language's ruleset. |
| NFR-2 |  The system shall support installation as a plug-in for multiple IDEs. | When a plug-in installation is commenced from the IntelliJ or Visual Studio Code extension marketplace, the download should complete successfully. |
| NFR-3 | The system shall accept coverage reports from multiple popular test frameworks. | When provided an XML report generated by test framework, a `TestReport` will parse the attributes `LineCoverage` and `BranchCoverage` if present. |
| NFR-4 | The system shall analyze complexity in less than 2 minutes. | When analyzing functions with substantial complexity, the system will raise a `TimeoutException` after 240,000 milliseconds. |

[complexity]: https://en.wikipedia.org/wiki/Cyclomatic_complexity
